truth <- c("ICPSR is the best summer stats program!")
class(truth)
colors <- c("red", "blue", "green", "red", "blue")
factor_colors <- colors %>%
factor()
class(factor_colors)
factor2_colors <- factor(colors, levels = c("red", "blue"))
class(factor2_colors)
#This tells us that factors' levels are set manually and that the levels are dependent on the level set by the researcher.
#The number of levels determines the number of categories in our categorical variable
#The corresponding numbers are counts in each of our color bins - we now have an NA for green because we didn't include it in our levels
summary(colors)
summary(factor_colors)
summary(factor2_colors)
#Each factor has a total length of five, but one is "green" in factor_colors and NA in factor2_colors because we didn't include a level for green
ideology <- c("liberal", "conservative", "very liberal", 'very conservative',
'middle of the road', 'slightly conservative', 'slightly liberal',
'liberal', 'conservative', 'middle of the road')
fact_ideo <- factor(ideology, levels = c("very liberal", "liberal", "slightly liberal",
"middle of the road", "slightly conservative",
"conservative", "very conservative"))
respondent <- c('Susie', 'Abdul', 'Maria', 'Fred', 'Wilma', 'Barney', 'Dino',
'Ajax', 'Thor', and 'Betty')
respondent <- c('Susie', 'Abdul', 'Maria', 'Fred', 'Wilma', 'Barney', 'Dino',
'Ajax', 'Thor', 'Betty')
income <- c(100000, 75000, 48000, 62000, 31000, 52500, 274000, 88000, 21000, 74000)
data1 <- data.frame("ideology" = ideology, "respondent" = respondent, "income" = income)
head(data1)
tail(data1)
structure(data1)
orderdat <- data1 %>%
arrange(income)
summary(orderdat)
orderdat
orderdat <- data1 %>%
arrange(desc(income))
orderdat
data1 %>%
filter(income = 21000) %>%
glimpse()
data1 %>%
filter(income == 21000) %>%
glimpse()
data1 %>%
select(starts_with("Fred") & ends_with("Abdul"))
data1 %>%
select(starts_with("Fred") & ends_with("Abdul")) %>%
glimpse()
data1 %>%
select(starts_with("Fred") & ends_with("Abdul")) %>%
print()
data1 %>%
select(starts_with("Fred") & ends_with("Abdul"), everything())
data1 %>%
select(starts_with("Fred") & ends_with("Abdul")) %>%
select(everything())
data1$log_income <- log(data1$income, base = exp(1))
data1$log_income <- log(data1$income, base = exp(1)) %>%
glimpse()
survey <- list(respondent, ideology, income)
survey <- list(data1$respondent, data1$ideology, data1$income)
survey <- list(respondent, ideology, income)
session <- 2
weeks <- matrix(1:9, byrow = TRUE)
dv_list <- list(truth=truth, sess1=session, wk=weeks, dat=data1, svy=survey)
dvlist[2,2]
dv_list[2,2]
dv_list$wk[2,2]
dv_list$wk
weeks <- matrix(1:9, byrow = TRUE)
print(weeks)
session <- 2
weeks <- matrix(1:9, byrow = TRUE)
print(weeks)
weeks <- matrix(1:9, byrow = TRUE, ncol=3)
print(weeks)
dv_list <- list(truth=truth, sess1=session, wk=weeks, dat=data1, svy=survey)
dv_list$wk[2,2]
dv_list$dat$income <- dv_list$dat$income/2
print(dv_list$dat$income)
## Data Visualization ICPSR Summer 2021>
## Name: Sarah Warren
## Date: June 30
## I'm so sorry this is late, I thought it was due Thursday
library(tidyverse)
truth <- c("ICPSR is the best summer stats program!")
class(truth)
colors <- c("red", "blue", "green", "red", "blue")
factor_colors <- colors %>%
factor()
class(factor_colors)
factor2_colors <- factor(colors, levels = c("red", "blue"))
class(factor2_colors)
#This tells us that factors' levels are set manually and that the levels are dependent on the level set by the researcher.
#The number of levels determines the number of categories in our categorical variable
#The corresponding numbers are counts in each of our color bins - we now have an NA for green because we didn't include it in our levels
summary(colors)
summary(factor_colors)
summary(factor2_colors)
#Each factor has a total length of five, but one is "green" in factor_colors and NA in factor2_colors because we didn't include a level for green
ideology <- c("liberal", "conservative", "very liberal", 'very conservative',
'middle of the road', 'slightly conservative', 'slightly liberal',
'liberal', 'conservative', 'middle of the road')
fact_ideo <- factor(ideology, levels = c("very liberal", "liberal", "slightly liberal",
"middle of the road", "slightly conservative",
"conservative", "very conservative"))
respondent <- c('Susie', 'Abdul', 'Maria', 'Fred', 'Wilma', 'Barney', 'Dino',
'Ajax', 'Thor', 'Betty')
income <- c(100000, 75000, 48000, 62000, 31000, 52500, 274000, 88000, 21000, 74000)
data1 <- data.frame("ideology" = ideology, "respondent" = respondent, "income" = income)
head(data1)
tail(data1)
structure(data1)
orderdat <- data1 %>%
arrange(desc(income))
orderdat
data1 %>%
filter(income == 21000) %>%
glimpse()
#Select from data1 the names of all the respondents starting with Fred and
#ending with Ajax. There are a number of ways to do this.
data1$log_income <- log(data1$income, base = exp(1)) %>%
glimpse()
survey <- list(respondent, ideology, income)
#it's a list of three and each component contains ten numeric or character items
session <- 2
weeks <- matrix(1:9, byrow = TRUE, ncol=3)
print(weeks)
dv_list <- list(truth=truth, sess1=session, wk=weeks, dat=data1, svy=survey)
dv_list$wk[2,2]
print(dv_list$dat$income)
dv_list$dat$income <- dv_list$dat$income/2
print(dv_list$dat$income)
data("swiss")
force(swiss)
head(swiss)
swiss_tibble <- as_tibble(swiss); swiss_tibble
swiss$Agriculture
swiss %>%
filter(Agriculture > 50) %>%
glimpse()
swiss %>%
filter(Catholic > 50 & Fertility < 70) %>%
glimpse()
movie <- read_csv("movie.csv")
movie <- read_csv("movie.csv") %>%
structure()
movie <- read_csv("movie.csv")
structure(movie)
glimpse(movie)
movie$budget
summary(movie$budget)
movie <- movie %>%
mutate(budget2 = format(budget, scientific = FALSE, big.mark = ","))
movie$budget2
movie <- movie %>%
mutate(budget2 = budget/100,000,000)
movie$budget2
movie <- read_csv("movie.csv")
movie$budget2
movie$budget
movie <- read_csv("movie.csv")
structure(movie)
glimpse(movie)
summary(movie$budget)
movie <- movie %>%
mutate(budget2 = budget/100,000,000)
movie$budget
movie$budget2
movie$budget
movie$budget2
movie$budget
movie <- read_csv("movie.csv")
structure(movie)
glimpse(movie)
summary(movie$budget)
movie <- movie %>%
mutate(budget2 = budget/100000000)
movie$budget2
movie <- movie %>%
mutate(budget2 = budget/100000000, length = duration/60) %>%
glimpse()
library(readxl)
WIID_31MAY2021_0 <- read_excel("WIID_31MAY2021_0.xlsx")
View(WIID_31MAY2021_0)
wiid <- read_excel("WIID_31MAY2021_0.xlsx")
View(wiid)
summarize(wiid$region_un)
summarise(wiid$region_un)
wiid$region_un
wiid$region_un_sub
View(wiid)
wiid2<- wiid %>% filter(region_un_sub == "North America" | country = "Mexico")
wiid2<- wiid %>% filter(region_un_sub == "North America" | country == "Mexico")
wiid2<- wiid %>% filter(region_un_sub == "North America" | country == "Mexico")
wiid2<- wiid %>% filter(region_un_sub == "North America" | country == "Mexico") %>%
glimpse()
View(wiid2)
wiid$region_un_sub
View(wiid)
wiid2<- wiid %>% filter(region_wb == "North America" | country == "Mexico") %>%
glimpse()
ggplot(wiid2, aes(x=year, y=gini_reported)) + geom_point()
ggplot(wiid2, aes(x=year, y=gini)) + geom_point()
ggplot(wiid2, aes(x=year, y=gini)) + geom_point() + theme_minimal()
ggplot(wiid2, aes(x=year, y=gini)) + geom_point(color=vars(country)) + theme_minimal()
ggplot(wiid2, aes(x=year, y=gini)) + geom_point(color="country") + theme_minimal()
ggplot(wiid2, aes(x=year, y=gini)) + geom_point(fill="country") + theme_minimal()
ggplot(wiid2, aes(x=year, y=gini, fill=country)) + geom_point() + theme_minimal()
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) + geom_point() + theme_minimal()
summarize(wiid2$year)
summary(wiid2$year)
wiid2$year
View(wiid2)
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_line() + theme_minimal()
wiid$gini %>% summarize(q1, q5)
wiid$gini %>% summary(q1, q5)
wiid %>%
summarize(gini))
wiid %>%
summarize(gini)
wiid %>%
summarize(gini) %>%
summarize(q1 = median(q1, na.rm=FALSE))
wiid %>%
summarize(gini) %>%
summarize(median(q1, na.rm=FALSE))
wiid %>%
summarize(gini) %>%
median(q1, na.rm=FALSE))
wiid %>%
summarize(gini) %>%
median(q1, na.rm=FALSE)
wiid %>%
summarize(gini, median(q1, na.rm=FALSE), median(q5, na.rm=FALSE))
wiid %>%
summarize(gini, q1, q5)
wiid %>%
summarize(gini, q1, q5) %>%
median()
wiid %>%
summarize(gini, q1, q5) %>%
median(gini) %>%
median(q5) %>%
median(q1)
wiid %>%
summarize(median(gini, q1, q5))
wiid %>%
summarize(median_g=median(gini, na.rm=FALSE), median_1=median(q1, na.rm=FALSE),
median_5=median(q5, na.rm=FALSE))
wiid %>%
summarize(median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE))
wiid %>%
summarize(gini, median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE)) # I am very not confident in what I have done here
wiid %>% filter(year == 2005) %>%
group_by(country) %>%
aggregate(min(x))
wiid %>% filter(year == 2005) %>%
group_by(country) %>%
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid <- read_excel("WIID_31MAY2021_0.xlsx") %>%
na.omit()
head(wiid)
tail(wiid)
##I pulled the most recent dataset from 2021 - but the regions are not numeric
#https://www.wider.unu.edu/database/world-income-inequality-database-wiid
wiid2<- wiid %>% filter(region_wb == "North America" | country == "Mexico") %>%
glimpse()
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_point() + theme_minimal()
#it appears that th enumber of observations increase as time goes on - there is more data
#after 1980 than before it, so the graph becomes quite cluttered quite quickly.
#additinoally, the United States has a lot of observations and a lot of variation
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_line() + theme_minimal()
#this did not help much, but it helped a little
wiid %>%
summarize(median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE))
# I am very not confident in what I have done here
#but I have indeed done something
wiid %>% filter(year == 2005) %>%
group_by(country) %>%
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid %>% filter(year == 2005) %>%
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid %>% filter(year == 2005) %>%
glimpse()
wiid %>% subset(year == 2005) %>%
glimpse()
wiid %>% subset(year == 2005)
wiid %>% filter(year == 2005)
## Data Visualization ICPSR Summer 2021>
## Name: Sarah Warren
## Date: June 30
## I'm so sorry this is late, I thought it was due Thursday
library(tidyverse)
library(readxl)
truth <- c("ICPSR is the best summer stats program!")
class(truth)
colors <- c("red", "blue", "green", "red", "blue")
factor_colors <- colors %>%
factor()
class(factor_colors)
factor2_colors <- factor(colors, levels = c("red", "blue"))
class(factor2_colors)
#This tells us that factors' levels are set manually and that the levels are dependent on the level set by the researcher.
#The number of levels determines the number of categories in our categorical variable
#The corresponding numbers are counts in each of our color bins - we now have an NA for green because we didn't include it in our levels
summary(colors)
summary(factor_colors)
summary(factor2_colors)
#Each factor has a total length of five, but one is "green" in factor_colors and NA in factor2_colors because we didn't include a level for green
ideology <- c("liberal", "conservative", "very liberal", 'very conservative',
'middle of the road', 'slightly conservative', 'slightly liberal',
'liberal', 'conservative', 'middle of the road')
fact_ideo <- factor(ideology, levels = c("very liberal", "liberal", "slightly liberal",
"middle of the road", "slightly conservative",
"conservative", "very conservative"))
respondent <- c('Susie', 'Abdul', 'Maria', 'Fred', 'Wilma', 'Barney', 'Dino',
'Ajax', 'Thor', 'Betty')
income <- c(100000, 75000, 48000, 62000, 31000, 52500, 274000, 88000, 21000, 74000)
data1 <- data.frame("ideology" = ideology, "respondent" = respondent, "income" = income)
head(data1)
tail(data1)
structure(data1)
orderdat <- data1 %>%
arrange(desc(income))
orderdat
data1 %>%
filter(income == 21000) %>%
glimpse()
#Select from data1 the names of all the respondents starting with Fred and
#ending with Ajax. There are a number of ways to do this.
data1$log_income <- log(data1$income, base = exp(1)) %>%
glimpse()
survey <- list(respondent, ideology, income)
#it's a list of three and each component contains ten numeric or character items
session <- 2
weeks <- matrix(1:9, byrow = TRUE, ncol=3)
print(weeks)
dv_list <- list(truth=truth, sess1=session, wk=weeks, dat=data1, svy=survey)
dv_list$wk[2,2]
print(dv_list$dat$income) # get baseline
dv_list$dat$income <- dv_list$dat$income/2
print(dv_list$dat$income) #success!
data("swiss")
head(swiss)
swiss_tibble <- as_tibble(swiss); swiss_tibble
swiss$Agriculture
swiss %>%
filter(Agriculture < 50) %>%
glimpse()
swiss %>%
filter(Catholic > 50 & Fertility < 70) %>%
glimpse()
movie <- read_csv("movie.csv")
structure(movie)
glimpse(movie)
summary(movie$budget)
movie <- movie %>%
mutate(budget2 = budget/100000000, length = duration/60) %>%
glimpse()
## stuck??? Subset the movie dataset from ”Spectre” to ”Skyfall.” Use the titles in
## movie_title to do this, not row and column numbers.
##I think its the stringr subset command, but I could not get the function to do what I wanted
wiid <- read_excel("WIID_31MAY2021_0.xlsx") %>%
na.omit()
head(wiid)
tail(wiid)
##I pulled the most recent dataset from 2021 - but the regions are not numeric
#https://www.wider.unu.edu/database/world-income-inequality-database-wiid
wiid2<- wiid %>% filter(region_wb == "North America" | country == "Mexico") %>%
glimpse()
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_point() + theme_minimal()
#it appears that th enumber of observations increase as time goes on - there is more data
#after 1980 than before it, so the graph becomes quite cluttered quite quickly.
#additinoally, the United States has a lot of observations and a lot of variation
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_line() + theme_minimal()
#this did not help much, but it helped a little
wiid %>%
summarize(median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE))
# I am very not confident in what I have done here
#but I have indeed done something
wiid <- read_excel("WIID_31MAY2021_0.xlsx") %>%
na.omit()
head(wiid)
tail(wiid)
wiid <- read_excel("WIID_31MAY2021_0.xlsx")
head(wiid)
tail(wiid)
wiid2<- wiid %>% filter(region_wb == "North America" | country == "Mexico") %>%
glimpse()
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_point() + theme_minimal()
#it appears that th enumber of observations increase as time goes on - there is more data
#after 1980 than before it, so the graph becomes quite cluttered quite quickly.
#additinoally, the United States has a lot of observations and a lot of variation
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_line() + theme_minimal()
#this did not help much, but it helped a little
wiid %>%
summarize(median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE))
# I am very not confident in what I have done here
#but I have indeed done something
wiid %>% filter(year == 2005)
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid %>% filter(year == 2005) %>%
summarize(min_gini = min(gini, na.rm=FALSE),
min_q1 = min(q1, na.rm=FALSE),
min_q5 = min(q5, na.rm=FALSE))
wiid %>% filter(year == 2005) %>%
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid %>%
filter(country == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
wiid <- read_excel("WIID_31MAY2021_0.xlsx")
head(wiid)
tail(wiid)
##I pulled the most recent dataset from 2021 - but the regions are not numeric
#https://www.wider.unu.edu/database/world-income-inequality-database-wiid
wiid2<- wiid %>% filter(region_wb == "North America" | country == "Mexico") %>%
glimpse()
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_point() + theme_minimal()
#it appears that th enumber of observations increase as time goes on - there is more data
#after 1980 than before it, so the graph becomes quite cluttered quite quickly.
#additinoally, the United States has a lot of observations and a lot of variation
ggplot(wiid2, aes(x=year, y=gini, color = country, fill=country)) +
geom_line() + theme_minimal()
#this did not help much, but it helped a little
wiid %>%
summarize(median_g=median(gini, na.rm=TRUE), median_1=median(q1, na.rm=TRUE),
median_5=median(q5, na.rm=TRUE))
# I am very not confident in what I have done here
#but I have indeed done something
wiid %>%
filter(year == 2005) %>%
summarize(min_gini = min(gini, na.rm=TRUE),
min_q1 = min(q1, na.rm=TRUE),
min_q5 = min(q5, na.rm=TRUE))
wiid %>%
filter(country == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
wiid %>%
filter(country == 'Africa')
wiid %>%
filter(country == 'Africa') %>%
summarise(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
wiid %>%
filter(country == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
wiid %>%
filter(country == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=FALSE),
max_d1 = max(d1, na.rm=FALSE),
max_d10 = max(d10, na.rm=FALSE))
wiid %>%
filter(country == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
wid <- wiid %>%
filter(country == 'Africa')
wiid %>%
filter(region_un == 'Africa') %>%
summarize(max_gini = max(gini, na.rm=TRUE),
max_d1 = max(d1, na.rm=TRUE),
max_d10 = max(d10, na.rm=TRUE))
reasonable <- wiid %>%
group_by(country) %>%
summarize(mean_gini = mean(gini, na.rm = TRUE))
reasonable <- wiid %>%
group_by(country, year) %>%
summarize(mean_gini = mean(gini, na.rm = TRUE))
reasonable <- wiid %>%
group_by(year, country) %>%
summarize(mean_gini = mean(gini, na.rm = TRUE))
View(reasonable)
ggplot(reasonable, aes(x=year, y=mean_gini, color = country, fill=country)) +
geom_line() + theme_minimal()
reasonable <- wiid %>%
filter(region_wb == "North America" | country == "Mexico") %>%
group_by(year, country) %>%
summarize(mean_gini = mean(gini, na.rm = TRUE))
ggplot(reasonable, aes(x=year, y=mean_gini, color = country, fill=country)) +
geom_line() + theme_minimal()
